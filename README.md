# java-explore-with-me

__Цель:__ Итоговый (дипломный) проект по окончанию обучения по курсу Java-разработчик на Yandex Практикуме.

__Идея проекта:__ Свободное время — ценный ресурс. Ежедневно каждый планирует как его потратить — куда и с кем сходить. 
Сложнее всего в таком планировании поиск информации и переговоры. Нужно учесть много деталей: какие намечаются мероприятия, 
свободны ли в этот момент друзья, как всех пригласить и где собраться.
Написанное приложение — афиша, в которой можно предложить какое-либо событие от выставки до похода в кино и собрать
компанию для участия в нём.

![ewm-main service](idea.jpg)

__Краткое описание:__ Проект с микросервисной архитектурой написан на языке Java с использованием Spring Boot фреймворка, Jpa(Hibernate), 
объектно-реляционной базы данных PostgreSQL.

## Технологии
- Java 11
- Spring Boot
- JPA
- Hibernate
- Lombok
- PostgreSQL
- Maven


## Приложение состоит из двух сервисов
1. Основной сервис (main-service)
Содержит основную логику работы приложения и разделен на части по уровням доступа:
•	публичная будет доступна без регистрации любому пользователю сети;
•	закрытая будет доступна только авторизованным пользователям;
•	административная — для администраторов сервиса.
2. Сервис статистики (stats-service)
Хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения.

## Возможности

### Пользователи
- Создать пользователя
- Найти пользователей по списку указанных id пользователей
- Подписаться на пользователя

### Категории событий
- Создать категорию
- Удалить категорию
- Обновить категорию
- Найти категорию по id
- Получить список категорий

### События
Для зарегистрированных пользователей:
- Добавить событие
- Найти список событий, созданных пользователем
- Найти событие пользователя по id
- Обновить информацию о событии, созданном пользователем
- Получить список заявок на событие, созданное пользователем
- Одобрить или отклонить заявки из списка для определённого события
- Получить список событий по подписке на определённого пользователя
- Получить список событий по всем подпискам с возможностью сортировки

Для всех пользователей:
- Поиск событий по параметрам
- Поиск опубликованного события по id

Для администраторов:
- Поиск событий по разным параметрам
- Обновление события

## Заявки на участие в событии
- Создать заявку
- Получить список заявок пользователя
- Отклонить заявку

## Подборки
- Создать подборку
- Обновить подборку
- Удалить подборку
- Найти подборку по id
- Получить список подборок

## Комментарии
Для администраторов:
- Удалить комментарий по id

Для зарегистрированных пользователей:
- Создать комментарий (может только участник события или его инициатор)
- Удалить собственный комментарий
- Обновить собственный комментарий

Для всех пользователей:
- Получить комментарии к определенному событию по id события

## Схема БД основного сервиса:
![ewm-main service](diagramMain.png)

## Схема БД сервиса статистики:

![ewm-statistics](diagramStats.png)

## Варианты запуска приложения

- Командой «docker-compose up» (Для запуска через докер);

- С помощью IntelliJ IDEA:

«main»: main-service\src\main\java\ru\practicum\mainservice\MainServiceApp -> "run";

«stats»: stats\stats-server\src\main\java\ru\practicum\statsserver\StatsServerApplication -> "run"
